import examples.std

extern fun malloc(size int) voidptr

struct Worker {
    name string
    next voidptr
}

fun main() int {
    let marcel pointer@Worker = malloc(Worker)
    let gustavo pointer@Worker = malloc(Worker)

    marcel.name = "marcel"
    marcel.next = gustavo

    gustavo.name = "gustavo"
    gustavo.next = 0

    let current pointer@Worker = marcel

    while current != 0 {
        examples.std.print(current.name)
        current = current.next
    }
}